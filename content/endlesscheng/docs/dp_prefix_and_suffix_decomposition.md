---
comments: True
---

# DP Prefix and Suffix Decomposition

## Table of Contents

- [ ] [724. Find Pivot Index](#724-find-pivot-index) (Easy)
- [ ] [1991. Find the Middle Index in Array](#1991-find-the-middle-index-in-array) (Easy)
- [ ] [2270. Number of Ways to Split Array](#2270-number-of-ways-to-split-array) (Medium)
- [ ] [2256. Minimum Average Difference](#2256-minimum-average-difference) (Medium)
- [ ] [1422. Maximum Score After Splitting a String](#1422-maximum-score-after-splitting-a-string) (Easy)
- [x] [1493. Longest Subarray of 1's After Deleting One Element](#1493-longest-subarray-of-1s-after-deleting-one-element) (Medium)
- [x] [845. Longest Mountain in Array](#845-longest-mountain-in-array) (Medium)
- [x] [2012. Sum of Beauty in the Array](#2012-sum-of-beauty-in-the-array) (Medium)
- [ ] [2909. Minimum Sum of Mountain Triplets II](#2909-minimum-sum-of-mountain-triplets-ii) (Medium)
- [ ] [2483. Minimum Penalty for a Shop](#2483-minimum-penalty-for-a-shop) (Medium)
- [ ] [1525. Number of Good Ways to Split a String](#1525-number-of-good-ways-to-split-a-string) (Medium)
- [ ] [3354. Make Array Elements Equal to Zero](#3354-make-array-elements-equal-to-zero) (Easy)
- [x] [2874. Maximum Value of an Ordered Triplet II](#2874-maximum-value-of-an-ordered-triplet-ii) (Medium)
- [x] [123. Best Time to Buy and Sell Stock III](#123-best-time-to-buy-and-sell-stock-iii) (Hard)
- [ ] [2222. Number of Ways to Select Buildings](#2222-number-of-ways-to-select-buildings) (Medium)
- [ ] [1031. Maximum Sum of Two Non-Overlapping Subarrays](#1031-maximum-sum-of-two-non-overlapping-subarrays) (Medium)
- [ ] [689. Maximum Sum of 3 Non-Overlapping Subarrays](#689-maximum-sum-of-3-non-overlapping-subarrays) (Hard)
- [ ] [2420. Find All Good Indices](#2420-find-all-good-indices) (Medium)
- [ ] [2100. Find Good Days to Rob the Bank](#2100-find-good-days-to-rob-the-bank) (Medium)
- [ ] [926. Flip String to Monotone Increasing](#926-flip-string-to-monotone-increasing) (Medium)
- [ ] [334. Increasing Triplet Subsequence](#334-increasing-triplet-subsequence) (Medium)
- [x] [2712. Minimum Cost to Make All Characters Equal](#2712-minimum-cost-to-make-all-characters-equal) (Medium)
- [ ] [1653. Minimum Deletions to Make String Balanced](#1653-minimum-deletions-to-make-string-balanced) (Medium)
- [x] [1186. Maximum Subarray Sum with One Deletion](#1186-maximum-subarray-sum-with-one-deletion) (Medium)
- [x] [42. Trapping Rain Water](#42-trapping-rain-water) (Hard)
- [x] [2711. Difference of Number of Distinct Values on Diagonals](#2711-difference-of-number-of-distinct-values-on-diagonals) (Medium)
- [ ] [1477. Find Two Non-overlapping Sub-arrays Each With Target Sum](#1477-find-two-non-overlapping-sub-arrays-each-with-target-sum) (Medium)
- [x] [2680. Maximum OR](#2680-maximum-or) (Medium)
- [x] [1671. Minimum Number of Removals to Make Mountain Array](#1671-minimum-number-of-removals-to-make-mountain-array) (Hard)
- [ ] [1888. Minimum Number of Flips to Make the Binary String Alternating](#1888-minimum-number-of-flips-to-make-the-binary-string-alternating) (Medium)
- [x] [238. Product of Array Except Self](#238-product-of-array-except-self) (Medium)
- [ ] [2906. Construct Product Matrix](#2906-construct-product-matrix) (Medium)
- [ ] [3334. Find the Maximum Factor Score of Array](#3334-find-the-maximum-factor-score-of-array) (Medium)
- [ ] [2167. Minimum Time to Remove All Cars Containing Illegal Goods](#2167-minimum-time-to-remove-all-cars-containing-illegal-goods) (Hard)
- [ ] [2484. Count Palindromic Subsequences](#2484-count-palindromic-subsequences) (Hard)
- [ ] [2163. Minimum Difference in Sums After Removal of Elements](#2163-minimum-difference-in-sums-after-removal-of-elements) (Hard)
- [ ] [2565. Subsequence With the Minimum Score](#2565-subsequence-with-the-minimum-score) (Hard)
- [ ] [1995. Count Special Quadruplets](#1995-count-special-quadruplets) (Easy)
- [x] [2552. Count Increasing Quadruplets](#2552-count-increasing-quadruplets) (Hard)
- [ ] [3302. Find the Lexicographically Smallest Valid Sequence](#3302-find-the-lexicographically-smallest-valid-sequence) (Medium)
- [ ] [3404. Count Special Subsequences](#3404-count-special-subsequences) (Medium)
- [ ] [3303. Find the Occurrence of First Almost Equal Substring](#3303-find-the-occurrence-of-first-almost-equal-substring) (Hard)
- [ ] [3287. Find the Maximum Sequence Value of Array](#3287-find-the-maximum-sequence-value-of-array) (Hard)
- [ ] [3257. Maximum Value Sum by Placing Three Rooks II](#3257-maximum-value-sum-by-placing-three-rooks-ii) (Hard)
- [ ] [3410. Maximize Subarray Sum After Removing All Occurrences of One Element](#3410-maximize-subarray-sum-after-removing-all-occurrences-of-one-element) (Hard)
- [ ] [3003. Maximize the Number of Partitions After Operations](#3003-maximize-the-number-of-partitions-after-operations) (Hard)
- [ ] [487. Max Consecutive Ones II](#487-max-consecutive-ones-ii) (Medium) ðŸ‘‘
- [ ] [1746. Maximum Subarray Sum After One Operation](#1746-maximum-subarray-sum-after-one-operation) (Medium) ðŸ‘‘


## 724. Find Pivot Index

-    [LeetCode](https://leetcode.com/problems/find-pivot-index/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-pivot-index/)

-   Tags: Array, Prefix Sum



## 1991. Find the Middle Index in Array

-    [LeetCode](https://leetcode.com/problems/find-the-middle-index-in-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-the-middle-index-in-array/)

-   Tags: Array, Prefix Sum



## 2270. Number of Ways to Split Array

-    [LeetCode](https://leetcode.com/problems/number-of-ways-to-split-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/number-of-ways-to-split-array/)

-   Tags: Array, Prefix Sum



## 2256. Minimum Average Difference

-    [LeetCode](https://leetcode.com/problems/minimum-average-difference/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-average-difference/)

-   Tags: Array, Prefix Sum



## 1422. Maximum Score After Splitting a String

-    [LeetCode](https://leetcode.com/problems/maximum-score-after-splitting-a-string/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-score-after-splitting-a-string/)

-   Tags: String, Prefix Sum



## 1493. Longest Subarray of 1's After Deleting One Element

-    [LeetCode](https://leetcode.com/problems/longest-subarray-of-1s-after-deleting-one-element/) | [åŠ›æ‰£](https://leetcode.cn/problems/longest-subarray-of-1s-after-deleting-one-element/)

-   Tags: Array, Dynamic Programming, Sliding Window

=== "Python"

    ```python
    --8<-- "python/1201_1500/1493_longest_subarray_of_1s_after_deleting_one_element.py"
    ```



## 845. Longest Mountain in Array

-    [LeetCode](https://leetcode.com/problems/longest-mountain-in-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/longest-mountain-in-array/)

-   Tags: Array, Two Pointers, Dynamic Programming, Enumeration

=== "Python"

    ```python
    --8<-- "python/0601_0900/0845_longest_mountain_in_array.py"
    ```



## 2012. Sum of Beauty in the Array

-    [LeetCode](https://leetcode.com/problems/sum-of-beauty-in-the-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/sum-of-beauty-in-the-array/)

-   Tags: Array

=== "Python"

    ```python
    --8<-- "python/1801_2100/2012_sum_of_beauty_in_the_array.py"
    ```



## 2909. Minimum Sum of Mountain Triplets II

-    [LeetCode](https://leetcode.com/problems/minimum-sum-of-mountain-triplets-ii/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-sum-of-mountain-triplets-ii/)

-   Tags: Array



## 2483. Minimum Penalty for a Shop

-    [LeetCode](https://leetcode.com/problems/minimum-penalty-for-a-shop/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-penalty-for-a-shop/)

-   Tags: String, Prefix Sum



## 1525. Number of Good Ways to Split a String

-    [LeetCode](https://leetcode.com/problems/number-of-good-ways-to-split-a-string/) | [åŠ›æ‰£](https://leetcode.cn/problems/number-of-good-ways-to-split-a-string/)

-   Tags: Hash Table, String, Dynamic Programming, Bit Manipulation



## 3354. Make Array Elements Equal to Zero

-    [LeetCode](https://leetcode.com/problems/make-array-elements-equal-to-zero/) | [åŠ›æ‰£](https://leetcode.cn/problems/make-array-elements-equal-to-zero/)

-   Tags: Array, Simulation, Prefix Sum



## 2874. Maximum Value of an Ordered Triplet II

-    [LeetCode](https://leetcode.com/problems/maximum-value-of-an-ordered-triplet-ii/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-value-of-an-ordered-triplet-ii/)

-   Tags: Array

=== "Python"

    ```python
    --8<-- "python/2701_3000/2874_maximum_value_of_an_ordered_triplet_ii.py"
    ```



## 123. Best Time to Buy and Sell Stock III

-    [LeetCode](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/) | [åŠ›æ‰£](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/)

-   Tags: Array, Dynamic Programming

=== "Python"

    ```python
    --8<-- "python/0001_0300/0123_best_time_to_buy_and_sell_stock_iii.py"
    ```



## 2222. Number of Ways to Select Buildings

-    [LeetCode](https://leetcode.com/problems/number-of-ways-to-select-buildings/) | [åŠ›æ‰£](https://leetcode.cn/problems/number-of-ways-to-select-buildings/)

-   Tags: String, Dynamic Programming, Prefix Sum



## 1031. Maximum Sum of Two Non-Overlapping Subarrays

-    [LeetCode](https://leetcode.com/problems/maximum-sum-of-two-non-overlapping-subarrays/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-sum-of-two-non-overlapping-subarrays/)

-   Tags: Array, Dynamic Programming, Sliding Window



## 689. Maximum Sum of 3 Non-Overlapping Subarrays

-    [LeetCode](https://leetcode.com/problems/maximum-sum-of-3-non-overlapping-subarrays/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-sum-of-3-non-overlapping-subarrays/)

-   Tags: Array, Dynamic Programming



## 2420. Find All Good Indices

-    [LeetCode](https://leetcode.com/problems/find-all-good-indices/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-all-good-indices/)

-   Tags: Array, Dynamic Programming, Prefix Sum



## 2100. Find Good Days to Rob the Bank

-    [LeetCode](https://leetcode.com/problems/find-good-days-to-rob-the-bank/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-good-days-to-rob-the-bank/)

-   Tags: Array, Dynamic Programming, Prefix Sum



## 926. Flip String to Monotone Increasing

-    [LeetCode](https://leetcode.com/problems/flip-string-to-monotone-increasing/) | [åŠ›æ‰£](https://leetcode.cn/problems/flip-string-to-monotone-increasing/)

-   Tags: String, Dynamic Programming



## 334. Increasing Triplet Subsequence

-    [LeetCode](https://leetcode.com/problems/increasing-triplet-subsequence/) | [åŠ›æ‰£](https://leetcode.cn/problems/increasing-triplet-subsequence/)

-   Tags: Array, Greedy



## 2712. Minimum Cost to Make All Characters Equal

-    [LeetCode](https://leetcode.com/problems/minimum-cost-to-make-all-characters-equal/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-cost-to-make-all-characters-equal/)

-   Tags: String, Dynamic Programming, Greedy

=== "Python"

    ```python
    --8<-- "python/2701_3000/2712_minimum_cost_to_make_all_characters_equal.py"
    ```



## 1653. Minimum Deletions to Make String Balanced

-    [LeetCode](https://leetcode.com/problems/minimum-deletions-to-make-string-balanced/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-deletions-to-make-string-balanced/)

-   Tags: String, Dynamic Programming, Stack



## 1186. Maximum Subarray Sum with One Deletion

-    [LeetCode](https://leetcode.com/problems/maximum-subarray-sum-with-one-deletion/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-subarray-sum-with-one-deletion/)

-   Tags: Array, Dynamic Programming

=== "Python"

    ```python
    --8<-- "python/0901_1200/1186_maximum_subarray_sum_with_one_deletion.py"
    ```



## 42. Trapping Rain Water

-    [LeetCode](https://leetcode.com/problems/trapping-rain-water/) | [åŠ›æ‰£](https://leetcode.cn/problems/trapping-rain-water/)

-   Tags: Array, Two Pointers, Dynamic Programming, Stack, Monotonic Stack

=== "Python"

    ```python
    --8<-- "python/0001_0300/0042_trapping_rain_water.py"
    ```

=== "CPP"

    ```cpp
    --8<-- "cpp/0001_0300/0042_trapping_rain_water.cc"
    ```



## 2711. Difference of Number of Distinct Values on Diagonals

-    [LeetCode](https://leetcode.com/problems/difference-of-number-of-distinct-values-on-diagonals/) | [åŠ›æ‰£](https://leetcode.cn/problems/difference-of-number-of-distinct-values-on-diagonals/)

-   Tags: Array, Hash Table, Matrix

=== "Python"

    ```python
    --8<-- "python/2701_3000/2711_difference_of_number_of_distinct_values_on_diagonals.py"
    ```



## 1477. Find Two Non-overlapping Sub-arrays Each With Target Sum

-    [LeetCode](https://leetcode.com/problems/find-two-non-overlapping-sub-arrays-each-with-target-sum/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-two-non-overlapping-sub-arrays-each-with-target-sum/)

-   Tags: Array, Hash Table, Binary Search, Dynamic Programming, Sliding Window



## 2680. Maximum OR

-    [LeetCode](https://leetcode.com/problems/maximum-or/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-or/)

-   Tags: Array, Greedy, Bit Manipulation, Prefix Sum

=== "Python"

    ```python
    --8<-- "python/2401_2700/2680_maximum_or.py"
    ```



## 1671. Minimum Number of Removals to Make Mountain Array

-    [LeetCode](https://leetcode.com/problems/minimum-number-of-removals-to-make-mountain-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-number-of-removals-to-make-mountain-array/)

-   Tags: Array, Binary Search, Dynamic Programming, Greedy

=== "Python"

    ```python
    --8<-- "python/1501_1800/1671_minimum_number_of_removals_to_make_mountain_array.py"
    ```



## 1888. Minimum Number of Flips to Make the Binary String Alternating

-    [LeetCode](https://leetcode.com/problems/minimum-number-of-flips-to-make-the-binary-string-alternating/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-number-of-flips-to-make-the-binary-string-alternating/)

-   Tags: String, Dynamic Programming, Greedy, Sliding Window



## 238. Product of Array Except Self

-    [LeetCode](https://leetcode.com/problems/product-of-array-except-self/) | [åŠ›æ‰£](https://leetcode.cn/problems/product-of-array-except-self/)

-   Tags: Array, Prefix Sum

=== "Python"

    ```python
    --8<-- "python/0001_0300/0238_product_of_array_except_self.py"
    ```

=== "CPP"

    ```cpp
    --8<-- "cpp/0001_0300/0238_product_of_array_except_self.cc"
    ```



## 2906. Construct Product Matrix

-    [LeetCode](https://leetcode.com/problems/construct-product-matrix/) | [åŠ›æ‰£](https://leetcode.cn/problems/construct-product-matrix/)

-   Tags: Array, Matrix, Prefix Sum



## 3334. Find the Maximum Factor Score of Array

-    [LeetCode](https://leetcode.com/problems/find-the-maximum-factor-score-of-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-the-maximum-factor-score-of-array/)

-   Tags: Array, Math, Number Theory



## 2167. Minimum Time to Remove All Cars Containing Illegal Goods

-    [LeetCode](https://leetcode.com/problems/minimum-time-to-remove-all-cars-containing-illegal-goods/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-time-to-remove-all-cars-containing-illegal-goods/)

-   Tags: String, Dynamic Programming



## 2484. Count Palindromic Subsequences

-    [LeetCode](https://leetcode.com/problems/count-palindromic-subsequences/) | [åŠ›æ‰£](https://leetcode.cn/problems/count-palindromic-subsequences/)

-   Tags: String, Dynamic Programming



## 2163. Minimum Difference in Sums After Removal of Elements

-    [LeetCode](https://leetcode.com/problems/minimum-difference-in-sums-after-removal-of-elements/) | [åŠ›æ‰£](https://leetcode.cn/problems/minimum-difference-in-sums-after-removal-of-elements/)

-   Tags: Array, Dynamic Programming, Heap Priority Queue



## 2565. Subsequence With the Minimum Score

-    [LeetCode](https://leetcode.com/problems/subsequence-with-the-minimum-score/) | [åŠ›æ‰£](https://leetcode.cn/problems/subsequence-with-the-minimum-score/)

-   Tags: Two Pointers, String, Binary Search



## 1995. Count Special Quadruplets

-    [LeetCode](https://leetcode.com/problems/count-special-quadruplets/) | [åŠ›æ‰£](https://leetcode.cn/problems/count-special-quadruplets/)

-   Tags: Array, Hash Table, Enumeration



## 2552. Count Increasing Quadruplets

-    [LeetCode](https://leetcode.com/problems/count-increasing-quadruplets/) | [åŠ›æ‰£](https://leetcode.cn/problems/count-increasing-quadruplets/)

-   Tags: Array, Dynamic Programming, Binary Indexed Tree, Enumeration, Prefix Sum

=== "Python"

    ```python
    --8<-- "python/2401_2700/2552_count_increasing_quadruplets.py"
    ```



## 3302. Find the Lexicographically Smallest Valid Sequence

-    [LeetCode](https://leetcode.com/problems/find-the-lexicographically-smallest-valid-sequence/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-the-lexicographically-smallest-valid-sequence/)

-   Tags: Two Pointers, String, Dynamic Programming, Greedy



## 3404. Count Special Subsequences

-    [LeetCode](https://leetcode.com/problems/count-special-subsequences/) | [åŠ›æ‰£](https://leetcode.cn/problems/count-special-subsequences/)

-   Tags: Array, Hash Table, Math, Enumeration



## 3303. Find the Occurrence of First Almost Equal Substring

-    [LeetCode](https://leetcode.com/problems/find-the-occurrence-of-first-almost-equal-substring/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-the-occurrence-of-first-almost-equal-substring/)

-   Tags: String, String Matching



## 3287. Find the Maximum Sequence Value of Array

-    [LeetCode](https://leetcode.com/problems/find-the-maximum-sequence-value-of-array/) | [åŠ›æ‰£](https://leetcode.cn/problems/find-the-maximum-sequence-value-of-array/)

-   Tags: Array, Dynamic Programming, Bit Manipulation



## 3257. Maximum Value Sum by Placing Three Rooks II

-    [LeetCode](https://leetcode.com/problems/maximum-value-sum-by-placing-three-rooks-ii/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-value-sum-by-placing-three-rooks-ii/)

-   Tags: Array, Dynamic Programming, Matrix, Enumeration



## 3410. Maximize Subarray Sum After Removing All Occurrences of One Element

-    [LeetCode](https://leetcode.com/problems/maximize-subarray-sum-after-removing-all-occurrences-of-one-element/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximize-subarray-sum-after-removing-all-occurrences-of-one-element/)

-   Tags: Array, Dynamic Programming, Segment Tree



## 3003. Maximize the Number of Partitions After Operations

-    [LeetCode](https://leetcode.com/problems/maximize-the-number-of-partitions-after-operations/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximize-the-number-of-partitions-after-operations/)

-   Tags: String, Dynamic Programming, Bit Manipulation, Bitmask



## 487. Max Consecutive Ones II

-    [LeetCode](https://leetcode.com/problems/max-consecutive-ones-ii/) | [åŠ›æ‰£](https://leetcode.cn/problems/max-consecutive-ones-ii/)

-   Tags: Array, Dynamic Programming, Sliding Window



## 1746. Maximum Subarray Sum After One Operation

-    [LeetCode](https://leetcode.com/problems/maximum-subarray-sum-after-one-operation/) | [åŠ›æ‰£](https://leetcode.cn/problems/maximum-subarray-sum-after-one-operation/)

-   Tags: Array, Dynamic Programming



